<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.2">
    <title>VittaWay - Planejador de Dieta Personalizada</title>
    <style>
        :root {
            --primary: #2e7d32;
            --primary-light: #60ad5e;
            --primary-dark: #005005;
            --secondary: #ff8f00;
            --text: #212121;
            --text-light: #757575;
            --background: #f5f5f5;
            --surface: #ffffff;
            --error: #c62828;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--surface);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            gap: 15px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        h1 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 20px;
        }
        
        .description {
            text-align: center;
            margin-bottom: 30px;
            color: var(--text-light);
        }
        
        .form-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .form-section-title {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 5px;
        }
        
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
        }
        
        .radio-option input, .checkbox-option input {
            width: auto;
            margin-right: 8px;
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 1rem;
            border-radius: 4px;
            cursor: pointer;
            display: block;
            margin: 30px auto 0;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--primary-dark);
        }
        
        .calculated-value {
            background-color: #e8f5e9;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .required {
            color: var(--error);
        }
        
        .info-box {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        
        .privacy-notice {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            font-size: 0.8rem;
            color: var(--text-light);
        }
        
        .slider-container {
            margin: 15px 0;
        }
        
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.8rem;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
            color: var(--primary);
        }
        
        .success-message {
            display: none;
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            text-align: center;
            color: var(--primary-dark);
        }
        
        .error-message {
            display: none;
            background-color: #ffebee;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            text-align: center;
            color: var(--error);
        }
        
        .debug-info {
            display: none;
            background-color: #fff3e0;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            font-size: 0.8rem;
        }
        
        .retry-button {
            background-color: var(--secondary);
            margin-top: 10px;
        }
        
        .retry-button:hover {
            background-color: #e65100;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            .radio-group, .checkbox-group {
                flex-direction: column;
                gap: 8px;
            }
            
            .header {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">VittaWay</div>
        </div>
        <h1>Planejador de Dieta Personalizada</h1>
        <p class="description">Responda as perguntas abaixo para receber um plano alimentar adaptado às suas necessidades</p>
        
        <div class="success-message" id="successMessage">
            <h3>✅ Formulário enviado com sucesso!</h3>
            <p>Em breve você receberá seu plano alimentar personalizado por e-mail.</p>
        </div>
        
        <div class="error-message" id="errorMessage">
            <h3>❌ Ocorreu um erro ao enviar o formulário</h3>
            <p id="errorDetail">Por favor, tente novamente.</p>
            <button class="retry-button" id="retryButton">Tentar Novamente</button>
        </div>
        
        <div class="loading" id="loading">
            <p>Enviando dados, por favor aguarde...</p>
        </div>
        
        <div class="debug-info" id="debugInfo">
            <h4>Informações para Debug:</h4>
            <p id="debugDetail"></p>
        </div>
        
        <form id="dietForm">
            <!-- Seção 1: Dados Pessoais -->
            <div class="form-section">
                <h2 class="form-section-title">Dados Pessoais</h2>
                
                <div class="form-group">
                    <label for="nome">Nome completo <span class="required">*</span></label>
                    <input type="text" id="nome" name="nome" required>
                </div>
                
                <div class="form-group">
                    <label for="email">E-mail <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required placeholder="seu@email.com">
                </div>
                
                <div class="form-group">
                    <label for="idade">Idade (anos) <span class="required">*</span></label>
                    <input type="number" id="idade" name="idade" min="12" max="120" required>
                </div>
                
                <div class="form-group">
                    <label>Sexo biológico <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sexo-m" name="sexo" value="masculino" required>
                            <label for="sexo-m">Masculino</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sexo-f" name="sexo" value="feminino">
                            <label for="sexo-f">Feminino</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sexo-o" name="sexo" value="outro">
                            <label for="sexo-o">Outro</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Seção 2: Medidas Corporais -->
            <div class="form-section">
                <h2 class="form-section-title">Medidas Corporais</h2>
                
                <div class="form-group">
                    <label for="altura">Altura (cm) <span class="required">*</span></label>
                    <input type="number" id="altura" name="altura" min="100" max="250" required>
                </div>
                
                <div class="form-group">
                    <label for="peso">Peso atual (kg) <span class="required">*</span></label>
                    <input type="number" id="peso" name="peso" min="30" max="300" step="0.1" required>
                </div>
                
                <div class="form-group">
                    <label for="cintura">Circunferência da cintura (na altura do umbigo, em cm) <span class="required">*</span></label>
                    <input type="number" id="cintura" name="cintura" min="40" max="250" required>
                </div>
                
                <div class="form-group">
                    <label for="quadril">Circunferência do quadril (na maior parte do glúteo, em cm) <span class="required">*</span></label>
                    <input type="number" id="quadril" name="quadril" min="50" max="250" required>
                </div>
                
                <div class="form-group">
                    <label for="busto">Circunferência do busto/peito (na altura dos mamilos, em cm)</label>
                    <input type="number" id="busto" name="busto" min="50" max="250">
                </div>
                
                <div class="form-group">
                    <label for="braco">Circunferência do braço (meio do bíceps relaxado, em cm)</label>
                    <input type="number" id="braco" name="braco" min="10" max="100">
                </div>
                
                <div class="form-group">
                    <label for="coxa">Circunferência da coxa (meio da coxa, em cm)</label>
                    <input type="number" id="coxa" name="coxa" min="20" max="150">
                </div>
                
                <div class="form-group">
                    <div id="imc-result" class="calculated-value" style="display: none;">
                        Seu IMC: <span id="imc-value"></span> - Classificação: <span id="imc-classificacao"></span>
                    </div>
                </div>
            </div>
            
            <!-- Seção 3: Objetivos e Metas -->
            <div class="form-section">
                <h2 class="form-section-title">Objetivos e Metas</h2>
                
                <div class="form-group">
                    <label>Qual seu principal objetivo? <span class="required">*</span></label>
                    <div class="info-box">
                        Lembre-se que mudanças saudáveis são de 0,5-1kg por semana
                    </div>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="objetivo-emagrecer" name="objetivo" value="emagrecer" required>
                            <label for="objetivo-emagrecer">Emagrecer</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="objetivo-massa" name="objetivo" value="ganhar-massa">
                            <label for="objetivo-massa">Ganhar massa muscular</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="objetivo-manter" name="objetivo" value="manter-peso">
                            <label for="objetivo-manter">Manter peso</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="objetivo-saude" name="objetivo" value="melhorar-saude">
                            <label for="objetivo-saude">Melhorar saúde e disposição</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="tempo-objetivo">Em quanto tempo gostaria de alcançar seu objetivo (meses)? <span class="required">*</span></label>
                    <input type="number" id="tempo-objetivo" name="tempo-objetivo" min="1" max="60" required>
                </div>
                
                <div class="form-group">
                    <label>Qual sua prioridade? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="prioridade-rapido" name="prioridade" value="rapido" required>
                            <label for="prioridade-rapido">Resultados rápidos</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="prioridade-sustentavel" name="prioridade" value="sustentavel">
                            <label for="prioridade-sustentavel">Resultados sustentáveis</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="prioridade-equilibrio" name="prioridade" value="equilibrio">
                            <label for="prioridade-equilibrio">Equilíbrio</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Já seguiu alguma dieta antes? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="dieta-antiga-sim" name="dieta-antiga" value="sim" required>
                            <label for="dieta-antiga-sim">Sim</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="dieta-antiga-nao" name="dieta-antiga" value="nao">
                            <label for="dieta-antiga-nao">Não</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="dieta-anterior-group" style="display: none;">
                    <label>O que funcionou e o que não funcionou em dietas anteriores?</label>
                    <textarea id="dieta-anterior-experiencia" name="dieta-anterior-experiencia" rows="3"></textarea>
                </div>
            </div>
            
            <!-- Seção 4: Restrições e Saúde -->
            <div class="form-section">
                <h2 class="form-section-title">Restrições e Saúde</h2>
                
                <div class="form-group">
                    <label for="alergias">Possui alguma alergia ou intolerância alimentar? Se sim, qual?</label>
                    <input type="text" id="alergias" name="alergias" placeholder="Ex: frutos do mar, amendoim, lactose, glúten...">
                </div>
                
                <div class="form-group">
                    <label for="restricoes">Possui alguma restrição por religião/estilo de vida?</label>
                    <input type="text" id="restricoes" name="restricoes" placeholder="Ex: vegetariano, vegano, kosher, halal...">
                </div>
                
                <div class="form-group">
                    <label for="preferencias-alimentares">Tem preferência por alguma fonte de proteína ou carboidratos específica?</label>
                    <textarea id="preferencias-alimentares" name="preferencias-alimentares" rows="3" placeholder="Ex: Frango, Carne Vermelha, Peixe... ou Arroz, Massas, Batata..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>Já teve problemas de saúde relacionados à alimentação?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="problema-diabetes" name="problemas-saude" value="diabetes">
                            <label for="problema-diabetes">Diabetes</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="problema-hipertensao" name="problemas-saude" value="hipertensao">
                            <label for="problema-hipertensao">Hipertensão</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="problema-colesterol" name="problemas-saude" value="colesterol">
                            <label for="problema-colesterol">Colesterol alto</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="problema-tireoide" name="problemas-saude" value="tireoide">
                            <label for="problema-tireoide">Problemas de tireoide</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="problema-gastrico" name="problemas-saude" value="gastrico">
                            <label for="problema-gastrico">Problemas gastrointestinais</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="problema-outro" name="problemas-saude" value="outro">
                            <label for="problema-outro">Outro</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="medicamentos">Faz uso de medicamentos? Se sim, quais?</label>
                    <textarea id="medicamentos" name="medicamentos" rows="3" placeholder="Liste os medicamentos e dosagens"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Histórico de distúrbios alimentares?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="disturbio-sim" name="disturbio" value="sim">
                            <label for="disturbio-sim">Sim</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="disturbio-nao" name="disturbio" value="nao">
                            <label for="disturbio-nao">Não</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="disturbio-prefiro-nao-dizer" name="disturbio" value="prefiro-nao-dizer">
                            <label for="disturbio-prefiro-nao-dizer">Prefiro não dizer</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="estresse">Nível de estresse diário (0 a 5) <span class="required">*</span></label>
                    <div class="slider-container">
                        <input type="range" id="estresse" name="estresse" min="0" max="5" step="1" value="2" class="slider" required>
                        <div class="slider-labels">
                            <span>0 (Nenhum)</span>
                            <span>5 (Muito)</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Seção 5: Hábitos Alimentares Atuais -->
            <div class="form-section">
                <h2 class="form-section-title">Hábitos Alimentares Atuais</h2>
                
                <div class="form-group">
                    <label for="refeicoes">Quantas refeições principais faz por dia? <span class="required">*</span></label>
                    <select id="refeicoes" name="refeicoes" required>
                        <option value="">Selecione</option>
                        <option value="1">1 refeição</option>
                        <option value="2">2 refeições</option>
                        <option value="3">3 refeições</option>
                        <option value="4">4 ou mais refeições</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Costuma fazer lanches entre as refeições? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="lanches-nunca" name="lanches" value="nunca" required>
                            <label for="lanches-nunca">Nunca</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="lanches-as-vezes" name="lanches" value="as-vezes">
                            <label for="lanches-as-vezes">Às vezes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="lanches-sempre" name="lanches" value="sempre">
                            <label for="lanches-sempre">Sempre</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="acordar">Qual horário você costuma acordar? <span class="required">*</span></label>
                    <input type="time" id="acordar" name="acordar" required>
                </div>
                
                <div class="form-group">
                    <label for="dormir">Qual horário você costuma dormir? <span class="required">*</span></label>
                    <input type="time" id="dormir" name="dormir" required>
                </div>
                
                <div class="form-group">
                    <label for="gosta-comer">O que você mais gosta de comer no dia a dia? <span class="required">*</span></label>
                    <textarea id="gosta-comer" name="gosta-comer" rows="3" required placeholder="Ex: massas, carnes, saladas..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="nao-gosta">Quais alimentos você não gosta de jeito nenhum? <span class="required">*</span></label>
                    <textarea id="nao-gosta" name="nao-gosta" rows="3" required placeholder="Ex: brócolis, peixe, azeitona..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>Consume doces, frituras e refrigerantes? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="doces-nunca" name="doces" value="nunca" required>
                            <label for="doces-nunca">Nunca</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="doces-pouco" name="doces" value="pouco">
                            <label for="doces-pouco">Pouco</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="doces-frequentemente" name="doces" value="frequentemente">
                            <label for="doces-frequentemente">Frequentemente</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Consome bebidas alcoólicas? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="alcool-nunca" name="alcool" value="nunca" required>
                            <label for="alcool-nunca">Nunca</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="alcool-socialmente" name="alcool" value="socialmente">
                            <label for="alcool-socialmente">Socialmente</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="alcool-frequentemente" name="alcool" value="frequentemente">
                            <label for="alcool-frequentemente">Frequentemente</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Costuma beber bastante água? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="agua-sim" name="agua" value="sim" required>
                            <label for="agua-sim">Sim</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="agua-nao" name="agua" value="nao">
                            <label for="agua-nao">Não</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="local-refeicoes">Onde faz a maioria das suas refeições?</label>
                    <select id="local-refeicoes" name="local-refeicoes">
                        <option value="">Selecione</option>
                        <option value="casa">Em casa</option>
                        <option value="trabalho">No trabalho</option>
                        <option value="restaurante">Em restaurantes</option>
                        <option value="variados">Variados</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="preparo-refeicoes">Quem geralmente prepara suas refeições?</label>
                    <select id="preparo-refeicoes" name="preparo-refeicoes">
                        <option value="">Selecione</option>
                        <option value="eu">Eu mesmo(a)</option>
                        <option value="familia">Alguém da família</option>
                        <option value="cozinheira">Cozinheira/empregada</option>
                        <option value="restaurante">Restaurante/entrega</option>
                    </select>
                </div>
            </div>
            
            <!-- Seção 6: Atividade Física -->
            <div class="form-section">
                <h2 class="form-section-title">Atividade Física</h2>
                
                <div class="form-group">
                    <label>Pratica alguma atividade física? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="exercicio-sim" name="exercicio" value="sim" required>
                            <label for="exercicio-sim">Sim</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="exercicio-nao" name="exercicio" value="nao">
                            <label for="exercicio-nao">Não</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="tipo-exercicio-group" style="display: none;">
                    <label for="tipo-exercicio">Se sim, qual atividade e com que frequência?</label>
                    <textarea id="tipo-exercicio" name="tipo-exercicio" rows="3" placeholder="Ex: Musculação 3x por semana, Corrida 2x por semana..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>Qual seu nível de atividade diária (sem contar exercícios)? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="atividade-sedentario" name="atividade" value="sedentario" required>
                            <label for="atividade-sedentario">Sedentário (pouco ou nenhum exercício)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="atividade-leve" name="atividade" value="leve">
                            <label for="atividade-leve">Leve (caminhadas leves/trabalho doméstico)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="atividade-moderado" name="atividade" value="moderado">
                            <label for="atividade-moderado">Moderado (trabalho em pé/atividade moderada)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="atividade-intenso" name="atividade" value="intenso">
                            <label for="atividade-intenso">Intenso (trabalho físico intenso)</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="trabalho">Tipo de trabalho/ocupação principal:</label>
                    <select id="trabalho" name="trabalho">
                        <option value="">Selecione</option>
                        <option value="sedentario">Sedentário (escritório)</option>
                        <option value="em-pe">Fico em pé a maior parte do tempo</option>
                        <option value="ativo">Ativo (muito movimento)</option>
                        <option value="fisico">Trabalho físico intenso</option>
                    </select>
                </div>
            </div>
            
            <!-- Seção 7: Preferências da Dieta -->
            <div class="form-section">
                <h2 class="form-section-title">Preferências da Dieta</h2>
                
                <div class="form-group">
                    <label>O que seria ideal para você em uma dieta? <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="preferencia-tempo" name="preferencia-dieta" value="tempo">
                            <label for="preferencia-tempo">Pouco tempo de preparo</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="preferencia-barato" name="preferencia-dieta" value="barato">
                            <label for="preferencia-barato">Ingredientes baratos</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="preferencia-variado" name="preferencia-dieta" value="variado">
                            <label for="preferencia-variado">Refeições variadas</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="preferencia-facil" name="preferencia-dieta" value="facil">
                            <label for="preferencia-facil">Fácil fora de casa</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Prefere que a dieta seja próxima ao que já come ou totalmente nova? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="dieta-adaptada" name="tipo-dieta" value="adaptada" required>
                            <label for="dieta-adaptada">Adaptada ao que já como</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="dieta-radical" name="tipo-dieta" value="radical">
                            <label for="dieta-radical">Radicalmente diferente</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Prefere cardápio fixo ou sugestões variadas? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="cardapio-fixo" name="cardapio" value="fixo" required>
                            <label for="cardapio-fixo">Fixo</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="cardapio-variado" name="cardapio" value="variado">
                            <label for="cardapio-variado">Variado</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Qual seu maior desafio para seguir uma alimentação saudável?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" id="desafio-tempo" name="desafio" value="tempo">
                            <label for="desafio-tempo">Falta de tempo</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="desafio-vontade" name="desafio" value="vontade">
                            <label for="desafio-vontade">Vontade de comer doces/guloseimas</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="desafio-disciplina" name="desafio" value="disciplina">
                            <label for="desafio-disciplina">Falta de disciplina</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="desafio-conhecimento" name="desafio" value="conhecimento">
                            <label for="desafio-conhecimento">Falta de conhecimento</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="desafio-financeiro" name="desafio" value="financeiro">
                            <label for="desafio-financeiro">Limitações financeiras</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Aviso de Privacidade -->
            <div class="privacy-notice">
                <h3>Privacidade e Proteção de Dados</h3>
                <p>Seus dados são coletados e processados de acordo com a LGPD (Lei Geral de Proteção de Dados - Lei nº 13.709/2018) e regulamentações similares. As informações fornecidas serão utilizadas exclusivamente para a criação do seu plano alimentar personalizado e não serão compartilhadas com terceiros sem sua autorização explícita.</p>
                <p>Você tem o direito de acessar, corrigir ou excluir seus dados a qualquer momento entrando em contato conosco.</p>
            </div>
            
            <button type="submit">Enviar Formulário</button>
        </form>
    </div>

    <script>
        // Cálculo automático do IMC
        const alturaInput = document.getElementById('altura');
        const pesoInput = document.getElementById('peso');
        const imcResult = document.getElementById('imc-result');
        const imcValue = document.getElementById('imc-value');
        const imcClassificacao = document.getElementById('imc-classificacao');
        
        function calcularIMC() {
            const altura = parseFloat(alturaInput.value) / 100; // converter cm para m
            const peso = parseFloat(pesoInput.value);
            
            if (altura && peso) {
                const imc = peso / (altura * altura);
                imcValue.textContent = imc.toFixed(1);
                
                // Classificação do IMC
                if (imc < 18.5) {
                    imcClassificacao.textContent = 'Abaixo do peso';
                } else if (imc < 25) {
                    imcClassificacao.textContent = 'Peso normal';
                } else if (imc < 30) {
                    imcClassificacao.textContent = 'Sobrepeso';
                } else if (imc < 35) {
                    imcClassificacao.textContent = 'Obesidade grau I';
                } else if (imc < 40) {
                    imcClassificacao.textContent = 'Obesidade grau II';
                } else {
                    imcClassificacao.textContent = 'Obesidade grau III';
                }
                
                imcResult.style.display = 'block';
            } else {
                imcResult.style.display = 'none';
            }
        }
        
        alturaInput.addEventListener('input', calcularIMC);
        pesoInput.addEventListener('input', calcularIMC);
        
        // Mostrar/ocultar campo de experiência em dietas anteriores
        const dietaAntigaSim = document.getElementById('dieta-antiga-sim');
        const dietaAntigaNao = document.getElementById('dieta-antiga-nao');
        const dietaAnteriorGroup = document.getElementById('dieta-anterior-group');
        
        function toggleExperienciaDietaAnterior() {
            dietaAnteriorGroup.style.display = dietaAntigaSim.checked ? 'block' : 'none';
        }
        
        dietaAntigaSim.addEventListener('change', toggleExperienciaDietaAnterior);
        dietaAntigaNao.addEventListener('change', toggleExperienciaDietaAnterior);
        
        // Mostrar/ocultar campo de tipo de exercício
        const exercicioSim = document.getElementById('exercicio-sim');
        const exercicioNao = document.getElementById('exercicio-nao');
        const tipoExercicioGroup = document.getElementById('tipo-exercicio-group');
        
        function toggleTipoExercicio() {
            tipoExercicioGroup.style.display = exercicioSim.checked ? 'block' : 'none';
        }
        
        exercicioSim.addEventListener('change', toggleTipoExercicio);
        exercicioNao.addEventListener('change', toggleTipoExercicio);
        
        // URL do Google Apps Script
        const scriptURL = "https://script.google.com/macros/s/AKfycbzX8zcrB1nXmQegbDSSZRBrCzcK0-8LckSRa9sMYU8/dev";
        
        // Validação e envio do formulário
        document.getElementById('dietForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Mostrar loading e esconder outras mensagens
            document.getElementById('loading').style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('debugInfo').style.display = 'none';
            
            // Coletar dados do formulário
            const formData = new FormData(e.target);
            const formObject = {};
            formData.forEach((value, key) => {
                // Para checkboxes e radios com múltiplos valores
                if (formObject[key]) {
                    formObject[key] = Array.isArray(formObject[key]) 
                        ? [...formObject[key], value] 
                        : [formObject[key], value];
                } else {
                    formObject[key] = value;
                }
            });
            
            // Adicionar timestamp
            formObject.timestamp = new Date().toISOString();
            
            // Enviar para o Google Apps Script
            fetch(scriptURL, {
                method: "POST",
                body: JSON.stringify(formObject),
                headers: {
                    "Content-Type": "application/json"
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro HTTP: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                e.target.reset();
                
                // Rolagem suave para a mensagem de sucesso
                document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
            })
            .catch(error => {
                console.error("Erro ao enviar:", error);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('errorMessage').style.display = 'block';
                document.getElementById('errorDetail').textContent = `Erro: ${error.message}. Por favor, tente novamente.`;
                
                // Mostrar informações de debug
                document.getElementById('debugInfo').style.display = 'block';
                document.getElementById('debugDetail').textContent = `URL: ${scriptURL}\nErro: ${error.message}\nTipo: ${error.name}`;
                
                // Rolagem suave para a mensagem de erro
                document.getElementById('errorMessage').scrollIntoView({ behavior: 'smooth' });
            });
        });
        
        // Botão de tentar novamente
        document.getElementById('retryButton').addEventListener('click', function() {
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('debugInfo').style.display = 'none';
        });
        
        // Testar a conexão com o Google Apps Script
        function testConnection() {
            fetch(scriptURL, {
                method: "HEAD",
                mode: "no-cors"
            })
            .then(() => {
                console.log("Conexão com o Google Apps Script parece estar funcionando");
            })
            .catch(error => {
                console.warn("Não foi possível testar a conexão com o Google Apps Script:", error);
            });
        }
        
        // Testar a conexão quando a página carregar
        window.addEventListener('load', testConnection);
    </script>
</body>
</html>
